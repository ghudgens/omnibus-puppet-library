user  nginx;

worker_processes  1;

error_log  /var/log/<%= @project_name %>/nginx/error.log;
error_log  /var/log/<%= project_name %>/nginx/error.log  notice;
error_log  /var/log/<%= project_name %>/nginx/error.log  info;

pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    access_log  /var/log/<%= project_name %>/nginx/access.log;

    sendfile        on;

    keepalive_timeout  65;

    passenger_root  <%= @install_dir  %>/embedded/lib/ruby/gems/2.0.0/gems/passenger-4.0.42;
    passenger_ruby  <%= install_dir  %>/embedded/bin/ruby;
    passenger_max_pool_size 15;

    server {
        listen       *:80;
        server_name  localhost;

        root /opt/puppet-library/embedded/share/puppet-library/public;

        passenger_enabled on;

    }

}
